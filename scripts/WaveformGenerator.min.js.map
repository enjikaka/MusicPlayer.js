{"version":3,"file":"WaveformGenerator.min.js.map","sources":["WaveformGenerator.js"],"names":["BufferLoader","context","urlList","callback","this","onload","bufferList","Array","loadCount","WaveformGenerator","file","width","height","color","barWidth","gaps","align","retFunc","localStorage","setItem","window","waveformCanvas","waveformBarWidth","parseInt","waveformBarGap","parseFloat","waveformBarAlign","svg","setAttribute","waveformContext","AudioContext","bufferLoader","source","createBufferSource","buffer","waveformBuffer","bufferExtract","drawBar","load","document","createElement","waveformCanvasContext","getContext","webkitAudioContext","prototype","loadBuffer","url","index","xhr","XMLHttpRequest","open","responseType","loader","decodeAudioData","response","length","console","error","onerror","send","i","sections","out","inv","getChannelData","len","Math","floor","f","end","pos","res","log","bufferMeasure","clearInterval","toDataURL","btoa","outerHTML","setInterval","a","b","data","s","ref","sum","sqrt","val","ctx","ccl","getItem","fillStyle","undefined","h","abs","line","barWidthPerc","svgh","appendChild","fillRect"],"mappings":"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"}